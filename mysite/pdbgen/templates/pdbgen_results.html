<!DOCTYPE html>
{% extends 'base.html' %}
{% load static %}
{% block content %}

    <index></index>
    <script id="index-template"
            type="text-html-template">
        <div class="container">

            <div>
                <h2>
                    PDB Generator
                </h2>
                <div class="row">
                    <button class="btn btn-primary float-right margin:50px"
                            v-on:click="edit">
                        Edit Data
                    </button>

                    <button class="btn btn-primary float-right margin:50px"
                            v-on:click="download">
                        Download Protein
                    </button>
                </div>
                <div class="row justify-content-start">
                    <div class="col-1">
                    </div>

                    <div class="col">
                        {% load plotly_dash %}
                        {{ 'Mutation:' }}
                        {{ request.get_full_path|slice:"28:38" }}
                        {{ 'Repacked Residues-sorta:' }}
                        {{ request.get_full_path|slice:"46:" }}
                        {% plotly_app name="MutationViewer" ratio=1.5 %}
                    </div>

                </div>
                <div class="col">

                </div>
            </div>
        </div>

    </script>

    <script type="application/javascript">
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const ccid_stored = urlParams.get('CCID');
        const residues_stored = urlParams.get('RES');
    </script>


    <script type="application/javascript">
        Vue.component('index', {
            template: "#index-template",
            methods: {
                edit: function () {
                    history.back();
                },
                download: function () {
                    history.back();
                }
            }
        })
    </script>

{% endblock %}
{% plotly_message_pipe %}