<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    <title>Sider Searcher - Results</title>
    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatables/css/datatables.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatables/css/dataTables.bootstrap4.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatable-buttons-1.6.1/css/buttons.bootstrap4.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatable-buttons-1.6.1/css/buttons.foundation.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatable-buttons-1.6.1/css/buttons.semanticui.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatable-buttons-1.6.1/css/buttons.dataTables.min.css' %}">
    <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet" type='text/css'>
</head>

{% block body %}
    <table id="sider-results"
           class="table table-hover table-striped hidden">
        <thead>
        <tr>
            <th>Drug ID</th>
            <th>Stereoisomer ID</th>
            <th>UMLS Concept ID</th>
            <th>Frequency (%)</th>
            <th>Frequency lower</th>
            <th>Frequency upper</th>
            <th>Side effect</th>
            <th>Drug name</th>
            <th>ATC code</th>
        </tr>
        </thead>

        <tbody>
        {% for s in object_list %}
            <tr>
                <td>{{ s.drug_id }}</td>
                <td>{{ s.stereoisomer }}</td>
                <td>{{ s.umls_concept_id }}</td>
                <td>{{ s.frequency_percent }}</td>
                <td>{{ s.frequency_lower }}</td>
                <td>{{ s.frequency_upper }}</td>
                <td>{{ s.side_effect }}</td>
                <td>{{ s.drug_name }}</td>
                <td>{{ s.atc_code }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <button class="btn btn-primary"
            style="float:right;"
            onclick="location.href='{% url 'pharmacogenomics:side-effect-ranked-drugs' %}'">
        View Drugs Ranked
    </button>
{% endblock %}

</html>

<script src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
<script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'datatables/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'datatables/js/dataTables.bootstrap.min.js' %}"></script>
<script src="{% static 'datatables/js/datatables.min.js' %}"></script>
<script src="{% static 'datatable-buttons-1.6.1/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'datatable-buttons-1.6.1/js/buttons.colVis.min.js' %}"></script>
<script src="{% static 'datatable-buttons-1.6.1/js/buttons.flash.min.js' %}"></script>
<script src="{% static 'datatable-buttons-1.6.1/js/buttons.foundation.min.js' %}"></script>
<script src="{% static 'datatable-buttons-1.6.1/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'datatable-buttons-1.6.1/js/buttons.jqueryui.min.js' %}"></script>
<script src="{% static 'designer/js/jquery.cookie.js' %}"></script>


<script>
    var dtTable;

    $(document).ready(function () {
        WireUpDataTable();
    });

    function WireUpDataTable() {
        dtTable = $("#sider-results")
            .on("init.dt", function () {
                $("#sider-results").removeClass("hidden");
            })
            .DataTable({
                dom: 'lBfrtip',
                buttons: [
                    'csv'
                ]
            });
    }
</script>