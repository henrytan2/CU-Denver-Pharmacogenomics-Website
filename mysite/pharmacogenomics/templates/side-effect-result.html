{% extends "base.html" %}
{% load static %}
{% block content %}
    <body style="background-image:none">
    <table id="sider-results"
           class="table table-hover table-striped d-none">
        <thead>
        <tr>
            <th>Drug ID</th>
            <th>Stereoisomer ID</th>
            <th>Drug name</th>
            <th>UMLS Concept ID</th>
            <th>Frequency (%)</th>
            <th>Frequency lower</th>
            <th>Frequency upper</th>
            <th>Side effect</th>
            <th>ATC code</th>
        </tr>
        </thead>

        <tbody>
        {% for s in object_list %}
            <tr>
                <td>{{ s.drug_id }}</td>
                <td>{{ s.stereoisomer }}</td>
                <td><a href={% url 'pharmacogenomics:fda' %}?drug_name={{ s.drug_name }}>{{ s.drug_name }}</a></td>
                <td>{{ s.umls_concept_id }}</td>
                <td>{{ s.frequency_percent }}</td>
                <td>{{ s.frequency_lower }}</td>
                <td>{{ s.frequency_upper }}</td>
                <td>{{ s.side_effect }}</td>
                <td>{{ s.atc_code }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div style="text-align: right; margin-top: 10px">
        <button class="btn btn-primary"
                onclick="location.href='{% url 'pharmacogenomics:side-effect-ranked-drugs' %}'">
            View Drugs Ranked
        </button>
    </div>

    </body>

    <script>
        var dtTable;

        $(document).ready(function () {
            WireUpDataTable();
        });

        function WireUpDataTable() {
            dtTable = $("#sider-results")
                .on("init.dt", function () {
                    $("#sider-results").removeClass("d-none");
                })
                .DataTable({
                    dom: 'lBfrtip',
                    buttons: [
                        'csv'
                    ]
                });
        }
    </script>
{% endblock content %}